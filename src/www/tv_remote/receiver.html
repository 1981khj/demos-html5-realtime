<!document html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, maximum-scale=1.0">
        <title>TV Remote - Receiver</title>
        <style>

        </style>
        <script src="/socket.io/socket.io.js"> </script>
        <script>
            var socket = new io.Socket(null, {port: 8080, rememberTransport: true});
            socket.connect();

            var video;

            var load = function () {
                video = document.getElementById('video');
            };

            socket.on('message', function( obj ){

                if ( typeof obj !== 'object' ) {
                    var dataObj = JSON.parse(obj);

                    if (dataObj.demo.type === "tv_startstop") {
                        if ( video.paused ) {
                            video.play();
                        } else {
                            video.pause();
                        }
                    }

                }

            });

            window.addEventListener('DOMContentLoaded', load, false);
        </script>
    </head>
    <body id="b">
        <video id="video" width="640" height="480" controls src="http://www.archive.org/download/woody_woodpecker_pantry_panic/woody_woodpecker_pantry_panic.ogv"> </video>
    </body>
</html>